# colvars.conf
colvarsTrajFrequency 1000
colvarsRestartFrequency 10000

# CV1: Average B–X bond length
atomGroup {
  name b_atoms
  atoms 101 102 103 104  # Example B cation atom IDs
}
atomGroup {
  name x_atoms
  atoms 201 202 203 204 205 206  # Example X anion atom IDs
}
colvar {
  name avg_bx_bond_length
  distance {
    group1 { atomGroup b_atoms }
    group2 { atomGroup x_atoms }
    # Compute average over all B-X pairs within cutoff
    cutoff 3.0
  }
  outputAppliedForce on
}

# CV2: Octahedral tilt angle (average X–B–X angle deviation from 90°)
colvar {
  name octahedral_tilt
  angle {
    group1 { atomGroup x_atoms }
    group2 { atomGroup b_atoms }
    group3 { atomGroup x_atoms }
  }
  outputAppliedForce on
}

# CV3: Tolerance factor proxy (ratio of A–X to B–X distances)
atomGroup {
  name a_atoms
  atoms 1 2 3 4  # Example A cation atom IDs
}
colvar {
  name tolerance_factor_proxy
  distance {
    group1 { atomGroup a_atoms }
    group2 { atomGroup x_atoms }
    cutoff 4.0
  }
  distance {
    group1 { atomGroup b_atoms }
    group2 { atomGroup x_atoms }
    cutoff 3.0
  }
  # Define a custom colvar combining these distances is not directly supported,
  # so output both distances separately for post-processing.
  outputAppliedForce on
}